document.body.style.backgroundColor = '#002'
var w = c.width = $('#canvasWrapper').innerWidth(),
    h = c.height = $('#canvasWrapper').innerHeight(),
    ctx = c.getContext('2d')

var points = [
    [565,565,563,551,548,542,542,554,557,548,540,536,531,525,524,530,528,537,505,513,510,514,507,482,472,455,438,426,417,412,402,394,388,384,384,372,338,316,308,289,284,269,257,241,216,230,226,210,196,187,189,173,147,112, 88, 68, 48, 20,  2,  3,  7, 18, 35, 55, 73, 83, 82, 86, 87, 83, 90, 91, 89, 80, 79, 93, 94, 85, 78, 71, 68, 74, 83, 93,108],
    [305,295,291,294,298,291,284,275,254,247,246,250,241,241,238,228,224,204,175,151,149,133,136,134,138,136,127,111, 90, 62, 46, 43, 48, 46, 38, 45, 42, 34, 48, 43, 45, 62, 67, 84, 89, 68, 64, 70, 80,100,111,124,143,156,166,181,201,230,258,274,280,279,264,251,243,236,240,237,239,245,243,246,251,261,263,251,255,263,263,266,275,281,276,284,284],
    [107,125,200,234,250,260,274,279,278,292,301,304,298,298,309,312,312,306,313,326,337,347,354,358,362,375,382,392,387,388,394,409,412,425,442,440,463,470,488,495,509,520,532,538,536,536,547,558,578,598,601,611,623,629,619,610,605,601,595,598,580,578,578,575,565,543,538,527,510,510,514,506,490,478,472,446,427,420,392,387,383,377,368,363,348,337,332,320,310,301,285,272,279,273,264,255,251,248,250,252,247,245,246,253,254,256,265,271,283,293,289,293,309,309,304,290,277,259,246,239,239,244,239,237,231,225,217,216,211,203,193,177,163,152,143,136,125,114,107],
    [284,307,330,350,348,352,351,359,370,372,381,402,415,421,414,424,424,436,446,428,410,384,383,378,384,380,366,369,379,386,384,372,361,352,358,352,354,339,339,341,345,357,366,366,354,345,346,356,351,354,352,357,357,350,339,339,343,352,351,344,328,311,297,291,295,300,295,299,294,269,262,266,264,271,275,273,276,274,292,286,286,292,297,290,294,296,294,274,257,251,249,249,241,242,248,255,266,266,252,238,235,228,226,230,236,238,229,216,206,201,197,196,195,190,186,183,187,194,208,212,219,226,217,214,221,223,229,234,239,238,248,256,258,256,260,269,275,278,284],
    [325,342,363,385,392,414,404,385],
    [239,251,259,252,265,250,241,252],
    [489,456,444,428,431,398,383,428],
    [219,211,194,177,155,141,161,177],
    [140,120,151,151,181],
    [233,204,191,165,149],
    [314,282,268,282,266,229,266,288,289,288,319,315,325,332,345,353,364],
    [107,129,178,129,126,152,126, 73, 55, 73, 83,107,152,152,143,138,122],
    [573,560,538,533,534,515,505,487,449,440,421,402,386,377,373,357,338,326,307,286,265,242,231,219,200,186,174,158,141,135,120,135,152,172,188,202,204,220,232,241,243,247,247,245,251,252,249,251,270,277,287,296,309,316,326,334,348,359,372,387,388,401,468,470,502,517,550,568],
    [297,316,339,347,364,348,339,337,339,352,352,365,361,361,377,376,380,383,376,365,336,336,331,329,318,316,307,302,294,292,296,291,284,281,286,288,266,252,244,232,226,243,256,268,270,274,280,283,285,288,291,293,293,292,289,298,300,297,300,295,303,309,309,311,311,307,305,305],
    [265,258,253,251,219,202],
    [336,317,295,283,288,288],
    [449,449,449,445],
    [339,321,318,309],
    [342,350,358,367,376,377],
    [299,313,322,329,333,363]
]

var starsX = [123,135,243,286,326,573,264,532,267,120,153,273,314,282,268,282,266,229,266,288,289,288,319,315,325,332,345,353,364,140,120,151,151,181,489,456,444,428,431,398,383,428,325,342,363,385,392,414,404,385]
var starsY = [279,292,226,365,289,297,314,303,204,296,260,127,107,129,178,129,126,152,126, 73, 55, 73, 83,107,152,152,143,138,122,233,204,191,165,149,219,211,194,177,155,141,161,177,239,251,259,252,265,250,241,252]

var pi = Math.PI
ctx.lineJoin='round'
ctx.lineWidth=2;
ctx.strokeStyle = 'dimgrey'

ctx.beginPath();
for (var i = 1*pi/16; i < 7*pi; i+=3*pi/4) {
    ctx.arc(350,350,330, i, i + 3*pi/8)
    ctx.arc(350,350,345, i + 3*pi/8, i + 3*pi/8*2)
}
ctx.moveTo(680,350)
var ci = 330
for (var i = 0; i < 2*pi; i+=pi/8) {
    ctx.arc(350,350,ci, i, pi/4 + i)
    ci = (ci == 330 ? 265 : 330)
    ctx.arc(350,350,ci,pi + pi/8 + i, pi + pi/8 + i)
}
ctx.stroke()

for (var i = 0; i < points.length; i+=2) {
    ctx.beginPath();
    ctx.strokeStyle = (i < 3 ? '#024' : 'grey')
    ctx.moveTo(points[0]+25, points[0]+110)
    for (var j = 0; j < points[i].length; j++) {
        ctx.lineTo(points[i][j] + 25, points[i + 1][j] + 110)
    }
    ctx.fillStyle = '#00001b'
    ctx.fill()
    ctx.stroke()
}

ctx.strokeStyle = 'white'
ctx.fillStyle = 'white'
for (var i = 0; i < starsX.length; i++) {
    ctx.beginPath()
    ctx.arc(starsX[i] + 25,starsY[i] + 110,1.5,0,2*pi)
    ctx.fill()
    ctx.stroke();
}

ang = 0
angle = ang
x = points[i][j] - 325
y = points[i + 1][j] - 239
xPrime = Math.cos(angle)*x + Math.sin(angle)*y + 350
yPrime = -Math.sin(angle)*x + Math.cos(angle)*y + 349
ctx.lineTo(xPrime, yPrime)
ang+= 0.001
ctx.clearRect(0, 0, c.width, c.height);

setInterval(axisRotation, 200)


